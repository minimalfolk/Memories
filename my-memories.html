<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>My Memories</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="my-memories.css">
  <script src="path/to/script.js"></script>
</head>
<body>
  <!-- Header -->
  <header>
    <div class="header-content">
      <div class="logo">
        <i class="fas fa-jar"></i> Memory Jar
      </div>
      <div class="search-container">
        <input 
          type="text" 
          id="search-memories" 
          placeholder="Search Memories..." 
          class="search-bar"
          oninput="filterMemories()"
        >
        <button id="voice-search-btn" onclick="startVoiceSearch()">
          ðŸŽ¤
        </button>
      </div>
    </div>
  </header>

  <!-- Memories Section -->
  <main>
    <section id="memory-list-container">
      <div id="memory-list">
        <!-- Memories will be dynamically added here -->
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer>
    <div class="footer-links">
      <a href="about.html">About Us</a>
      <a href="contact.html">Contact Us</a>
      <a href="privacy.html">Privacy Policy</a>
      <a href="terms.html">Terms and Conditions</a>
    </div>
    <div class="social-media small-icons">
      <a href="#"><img src="https://cdn-icons-png.flaticon.com/512/733/733547.png" alt="Facebook"></a>
      <a href="#"><img src="https://cdn-icons-png.flaticon.com/512/733/733558.png" alt="Instagram"></a>
      <a href="#"><img src="https://cdn-icons-png.flaticon.com/512/145/145807.png" alt="LinkedIn"></a>
      <a href="#"><img src="https://cdn-icons-png.flaticon.com/512/733/733579.png" alt="Twitter"></a>
    </div>
    <div class="copyright">
      Â©2025 Memory Jar.
    </div>
  </footer>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const memoryList = document.getElementById('memory-list');
      let memories = JSON.parse(localStorage.getItem('memories')) || [];

      // Display memories on page load
      function displayMemories(filteredMemories = memories) {
        memoryList.innerHTML = ''; // Clear previous memories
        if (filteredMemories.length === 0) {
          memoryList.innerHTML = '<p>No memories found.</p>';
        } else {
          filteredMemories.forEach(memory => {
            const card = document.createElement('div');
            card.classList.add('memory-card');
            card.style.borderLeft = `5px solid ${memory.color}`;

            const memoryDetails = `
              <h3>${memory.topic}</h3>
              <p class="category">${memory.category}</p>
              <div class="memory-details">
                <p class="memory-text">${memory.details}</p>
                <small>${memory.date}</small> <!-- Display the date -->
              </div>
            `;

            card.innerHTML = memoryDetails;
            memoryList.appendChild(card);
          });
        }
      }

      // Call display function on page load
      displayMemories();

      // Filter memories based on search input
      window.filterMemories = function() {
        const searchQuery = document.getElementById('search-memories').value.toLowerCase();
        const filteredMemories = memories.filter(memory => 
          memory.topic.toLowerCase().includes(searchQuery) || 
          memory.details.toLowerCase().includes(searchQuery) ||
          memory.category.toLowerCase().includes(searchQuery)
        );
        displayMemories(filteredMemories);
      };

      // Voice Search function
      window.startVoiceSearch = function() {
        const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
        recognition.lang = 'en-US';

        recognition.start();

        recognition.onresult = function(event) {
          const speechResult = event.results[0][0].transcript.toLowerCase();
          document.getElementById('search-memories').value = speechResult; // Set the input field with speech result
          filterMemories(); // Call the filter function to filter memories based on voice search
        };

        recognition.onerror = function(event) {
          console.log('Error occurred in voice recognition: ' + event.error);
        };
      };
    });
  </script>
</body>
</html>
