<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>My Memories</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="my-memories.css">
</head>
<body>

  <!-- Header -->
  <header>
    <div class="logo">Memory Jar
     <a href="index.html" class="back-button">Back</a>
    </div>
    <div class="search-container">
      <input type="text" id="search-memories" placeholder="Search memories..." oninput="filterMemories()"/>
    </div>
  </header>

  <!-- Memory List Container -->
  <div id="memory-list-container">
    <!-- Memory Cards Will Be Dynamically Added Here -->
  </div>

  <!-- Footer -->
  <footer>
    <div class="footer-links">
      <a href="contact.html">Contact</a>
      <a href="about.html">About</a>
      <a href="privacy.html">Privacy</a>
      <a href="terms.html">Terms & Conditions</a>
    </div>
    <div class="social-media">
      <a href="#"><img src="https://cdn-icons-png.flaticon.com/512/733/733547.png" alt="Facebook"></a>
      <a href="#"><img src="https://cdn-icons-png.flaticon.com/512/733/733558.png" alt="Instagram"></a>
      <a href="#"><img src="https://cdn-icons-png.flaticon.com/512/145/145807.png" alt="LinkedIn"></a>
      <a href="#"><img src="https://cdn-icons-png.flaticon.com/512/733/733579.png" alt="Twitter"></a>
      <a href="#"><img src="https://cdn-icons-png.flaticon.com/512/2111/2111646.png" alt="Snapchat"></a>
    </div>
    <div class="copyright">
      Â©2025 Memory Jar.
    </div>
  </footer>

  <!-- Add the Script.js for interactivity and functionality -->
  <script src="script.js"></script>

  <!-- Add a custom script to handle dynamic memory display -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const memoryListContainer = document.getElementById('memory-list-container');
      let memories = JSON.parse(localStorage.getItem('memories')) || [];

      // Display memories function
      function displayMemories(filteredMemories = memories) {
        memoryListContainer.innerHTML = ''; // Clear previous memories
        if (filteredMemories.length === 0) {
          memoryListContainer.innerHTML = '<p>No memories found.</p>';
        } else {
          filteredMemories.forEach(memory => {
            const memoryCard = document.createElement('div');
            memoryCard.classList.add('memory-card');

            memoryCard.innerHTML = `
              <div class="memory-header">
                <span class="category">${memory.category}</span>
                <span class="date">${memory.date}</span>
              </div>
              <h3 class="memory-topic">${memory.topic}</h3>
              <p class="memory-text">${memory.details}</p>
              <div class="memory-actions">
                <button class="edit-button" onclick="editMemory('${memory.id}')">Edit</button>
                <button class="delete-button" onclick="deleteMemory('${memory.id}')">Delete</button>
                <button class="favorite-button" onclick="toggleFavorite('${memory.id}')">${memory.favorite ? 'Unfavorite' : 'Favorite'}</button>
              </div>
            `;
            memoryListContainer.appendChild(memoryCard);
          });
        }
      }

      // Load and display memories when page loads
      displayMemories();

      // Function to filter memories based on the search input
      window.filterMemories = function() {
        const searchQuery = document.getElementById('search-memories').value.toLowerCase();
        const filteredMemories = memories.filter(memory => 
          memory.topic.toLowerCase().includes(searchQuery) || 
          memory.details.toLowerCase().includes(searchQuery) ||
          memory.category.toLowerCase().includes(searchQuery)
        );
        displayMemories(filteredMemories);
      };

      // Function to edit a memory (this can be extended for editing functionality)
      window.editMemory = function(memoryId) {
        alert('Editing memory with ID: ' + memoryId);
        // Implement your editing functionality here
      };

      // Function to delete a memory
      window.deleteMemory = function(memoryId) {
        memories = memories.filter(memory => memory.id !== memoryId);
        localStorage.setItem('memories', JSON.stringify(memories));
        displayMemories();
      };

      // Function to toggle favorite status
      window.toggleFavorite = function(memoryId) {
        const memory = memories.find(memory => memory.id === memoryId);
        memory.favorite = !memory.favorite;
        localStorage.setItem('memories', JSON.stringify(memories));
        displayMemories();
      };
    });
  </script>
</body>
</html>
